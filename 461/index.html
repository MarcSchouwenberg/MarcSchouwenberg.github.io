<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Four 6</title>
	<style type="text/css">
		body, html {
			font-family: Verdana;
			font-size: 12px;
		}
		#clock {
			position: fixed;
			bottom: 0;
		}
		#line {
			height: 100%;
			position: fixed;
			top: 0;
			left: 50vw;
			border-left: 1px solid grey;
			opacity: 0.5;
		}
		#target {
			position: fixed;
			top: 0;
			left: 50vw;
		}
	</style>
	<script type="text/javascript">
		var arr1 = [
		["#2", 0.00,1.15,0.55,2.05,],
		["#4", 0.00,1.30,1.00,2.30,],
		["#9", 1.50,2.35,2.20,3.05,],
		["#11", 2.50,3.35,3.20,4.05,],
		["#5", 3.00,4.00,3.40,4.40,],
		["#8", 3.40,4.55,4.35,5.45,],
		["#2", 4.10,5.40,5.10,6.40,],
		["#8", 5.15,6.45,6.15,7.45,],
		["#8", 6.10,7.40,7.10,8.40,],
		["#4", 7.30,8.15,8.00,8.45,],
		["#8", 8.10,9.40,9.10,10.40,],
		["#5", 8.15,9.45,9.15,10.45,],
		["#2", 10.35,11.05,10.55,11.25,],
		["#5", 10.25,11.10,10.55,11.40,],
		["#8", 10.55,12.25,11.55,13.25,],
		["#8", 11.35,11.50,11.45,12.00,],
		["#8", 11.30,13.00,12.30,14.00,],
		["#7", 13.20,13.35,13.30,13.45,],
		["#6", 13.20,14.35,14.15,15.25,],
		["#7", 13.35,14.50,14.30,15.40,],
		["#2", 15.20,15.35,15.30,15.45,],
		["#8", 15.35,16.05,15.55,16.25,],
		["#7", 15.20,16.20,16.00,17.00,],
		["#3", 16.05,17.05,16.45,17.45,],
		["#8", 16.35,17.50,17.30,18.40,],
		["#6", 17.25,18.25,18.05,19.05,],
		["#7", 18.30,19.00,18.50,19.20,],
		["#12", 19.10,19.40,19.30,20.00,],
		["#8", 18.35,20.05,19.35,21.05,],
		["#4", 19.45,20.30,20.15,21.00,],
		["#12", 20.45,21.45,21.25,22.25,],
		["#7", 20.40,21.40,21.20,22.20,],
		["#6", 22.05,22.50,22.35,23.20,],
		["#12", 22.10,23.40,23.10,24.40,],
		["#7", 23.00,24.00,23.40,24.40,],
		["#3", 24.15,25.30,25.10,26.20,],
		["#5", 24.10,25.40,25.10,26.40,],
		["#9", 25.55,27.10,26.50,28.00,],
		["#7", 26.15,27.30,27.10,28.20,],
		["#5", 27.35,28.50,28.30,29.40,],
		["#5", 28.05,28.50,28.35,29.20,],
		["#8", 29.10,29.40,29.30,30.00,],
		["#11", 29.35,29.50,29.45,30.00,],
		];
		window.onload = () => {
			var arr = arr1;
			// var arr = arr2;
			// var arr = arr3;
			// var arr = arr4;
			var quan = 5;
			document.getElementById("target").style.width = quan*30*60 + "px";
			var arrLength = arr.length;
			var colors = [
				"green",
				"green",
				"lightgreen",
				"lightgreen",
				];
			var dist = [
				0,2,1,3,
				4,6,5,7,
				];
			console.log(arrLength);
			for (var i = 0; i < arr.length; i++) {
				var x = "";
				var caption = "";
				var newStartDiv = document.createElement("div");
				var newFinishDiv = document.createElement("div");
				var timeA = quan * (Math.floor(arr[i][1])*60 + (arr[i][1]%1)*100); // in sec
				var timeB = quan * (Math.floor(arr[i][2])*60 + (arr[i][2]%1)*100); // in sec
				var timeC = quan * (Math.floor(arr[i][3])*60 + (arr[i][3]%1)*100); // in sec
				var timeD = quan * (Math.floor(arr[i][4])*60 + (arr[i][4]%1)*100); // in sec
				console.log(i + ": " + timeA);

				newStartDiv.style.position = "absolute";
				newStartDiv.style.left = timeA + "px";
				newStartDiv.style.top = ((i%4*2) * 25) + "px";
				newStartDiv.style.width = (timeB-timeA) + "px";
				newStartDiv.style.border = "1px solid black";
				newStartDiv.style.height = (20)+"px";
				newStartDiv.style.color = "white";
				newStartDiv.style.background = colors[i%2];
				caption = x + "Start " + arr[i][0];
				newStartDiv.innerText = caption;
				newStartDiv.title = caption;
				document.getElementById("target").appendChild(newStartDiv);

				newFinishDiv.style.position = "absolute";
				newFinishDiv.style.left = timeC + "px";
				newFinishDiv.style.top = (((i%4*2)+1) * 25)-15 + "px";
				newFinishDiv.style.width = (timeD-timeC) + "px";
				newFinishDiv.style.border = "1px solid black";
				newFinishDiv.style.height = (20)+"px";
				newFinishDiv.style.color = "black";
				newFinishDiv.style.background = colors[i%2 + 2];
				caption = x + "Finish " + arr[i][0];
				newFinishDiv.innerText = caption;
				newFinishDiv.title = caption;
				document.getElementById("target").appendChild(newFinishDiv);
			}
		}

		function checkTime(i) {
		  if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
		  return i;
		}

		let hour = 0;
		let minute = 0;
		let second = 0;
		let count = 0;
		var timer = true;
		var left = 50;
		var factor = 500;

		function stopWatch(){
			document.getElementById('btn').disabled = true;
		    if (timer) { 
		        count++;
				left -= 1/factor;
				document.getElementById('target').style.left = left + "vw";

		  
		        if (count == 100) { 
		            second++; 
		            count = 0; 
		        } 
		  
		        if (second == 60) { 
		            minute++; 
		            second = 0; 
		        } 
		  
		        if (minute == 60) { 
		            hour++; 
		            minute = 0; 
		            second = 0; 
		        } 
		  
		        let hrString = hour; 
		        let minString = minute; 
		        let secString = second; 
		        let countString = count; 
		  
		        if (hour < 10) { 
		            hrString = "0" + hrString; 
		        } 
		  
		        if (minute < 10) { 
		            minString = "0" + minString; 
		        } 
		  
		        if (second < 10) { 
		            secString = "0" + secString; 
		        } 
		  
		        if (count < 10) { 
		            countString = "0" + countString; 
		        } 
		  
		        document.getElementById('klk').innerHTML = hrString+":"+minString+":"+secString+":"+countString;

		        setTimeout(stopWatch, 10); 
		    }
		}
	</script>

</head>
<body>
	<div id="target"></div>
	<div id="clock">
		<button id="btn" autofocus onclick="stopWatch()">START</button>
		<span id="klk" >0:00:00</span>
	</div>
	<div id="line"></div>

</body>
</html>