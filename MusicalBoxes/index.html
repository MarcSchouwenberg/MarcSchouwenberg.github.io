<!DOCTYPE html>
<html>
    <head>
        <title>Musical Boxes</title>
        <link rel="stylesheet" href="../githubstyles.css"/>
        <style type="text/css">
.box {
    background-image: linear-gradient(to bottom right, lightblue 30%, white);
    position: absolute;
    border-right: 5px solid;
    border-left: 5px solid;
    border-bottom: 5px solid;
    border: 5px solid darkblue;
    border-radius: 25px;
}
#box1 {
    left: 300px;
    top: 130px;
}
#box2 {
    left: 750px;
    top: 130px;
}
#box3 {
    left: 300px;
    top: 480px;
}
#box4 {
    left: 650px;
    top: 580px;
}

.ball {
    background-image: linear-gradient(to top left, black, lightgrey);
    position: absolute;
    border-radius: 50%;
}       
        </style>
        <script type="text/javascript">

var notes = [
["113","115","117","118","120","122","124",],
["125","127","129","130","132","134","136",],
["137","139","141","142","144","146","148",],
["149","151","153","154","156","158","160",],
]

var letters = ["C","D","E","F","G","A","B"]

var boxSize1 = [400,300]
var boxSize2 = [300,400]
var boxSize3 = [300,400]
var boxSize4 = [400,300]
var boxSizes = [boxSize1, boxSize2, boxSize3, boxSize4];
var ballSize = 20;
var panelThickness = 20;
var posX;
var posY;
var coordinates = [];
var numberOfSegments = letters.length;
var speed = 5;
var volume = 0.2;

window.onload = function() {
    for (var i = 0; i < document.getElementsByClassName("box").length; i++) {
        document.getElementsByClassName("box")[i].style.width = boxSizes[i][0]+"px";
        document.getElementsByClassName("box")[i].style.height = boxSizes[i][1]+"px";
    }

    for (var i = 0; i < document.getElementsByClassName("ball").length; i++) {
        document.getElementsByClassName("ball")[i].style.width = ballSize+"px";
        document.getElementsByClassName("ball")[i].style.height = ballSize+"px";
    }

    for (var i = 0; i < document.getElementsByClassName("ball").length; i++) {
        coordinates[i] = [Math.floor(Math.random()*(boxSizes[i][0]-ballSize)) , Math.floor(Math.random()*(boxSizes[i][1]-ballSize))];
    }
    console.log("coordinates = " + coordinates);

    for (var i = 0; i < document.getElementsByClassName("ball").length; i++) {
        document.getElementsByClassName("ball")[i].style.left = coordinates[i][0] + "px";
        document.getElementsByClassName("ball")[i].style.top = coordinates[i][1] + "px";
    }

    for (var k = 0; k < document.getElementsByClassName("box").length; k++) {
        for (var j = 0; j < 4; j++) {
            var boxSize = boxSizes[k];
            for (var i = 0; i < numberOfSegments; i++) {
                var newdiv = document.createElement("div");
                var parent = document.getElementsByClassName("box")[k];
                if (j<2) {
                    newdiv.style.height = ((boxSize[1]-ballSize)/numberOfSegments)+"px";
                    newdiv.style.width = panelThickness+"px";
                } else {
                    newdiv.style.height = panelThickness+"px";
                    newdiv.style.width = ((boxSize[0]-ballSize)/numberOfSegments)+"px";
                }
                switch(j){
                    case 0:
                        newdiv.style.left = boxSize[0]+"px";
                        newdiv.style.top = (ballSize/2)+i*((boxSize[1]-ballSize)/numberOfSegments)+"px";
                        break;
                    case 1:
                        newdiv.style.left = -panelThickness+"px";
                        newdiv.style.top = (ballSize/2)+i*((boxSize[1]-ballSize)/numberOfSegments)+"px";
                        break;
                    case 2:
                        newdiv.style.left = (ballSize/2)+i*((boxSize[0]-ballSize)/numberOfSegments)+"px";
                        newdiv.style.top = -panelThickness+"px";
                        break;
                    case 3:
                        newdiv.style.left = (ballSize/2)+i*((boxSize[0]-ballSize)/numberOfSegments)+"px";
                        newdiv.style.top = boxSize[1]+"px";
                        break;
                }
                if (j%2==0) {
                    newdiv.innerText = letters[i];
                } else {
                    newdiv.innerText = letters[numberOfSegments-1-i];
                }
                newdiv.style.fontSize = panelThickness*0.8;
                newdiv.style.textAlign = "center";
                newdiv.style.position = "absolute";
                if (i%2==0) {
                    newdiv.style.backgroundColor = "darkblue";
                    newdiv.style.color = "white";
                } else {
                    newdiv.style.backgroundColor = "lightyellow";
                }
                parent.appendChild(newdiv);
            }
        }
    }



};          

function moveAll() {
    document.getElementsByTagName("button")[0].hidden = "true";
    for (var i = 1; i < document.getElementsByTagName("button").length; i++) {
        if (document.getElementsByTagName("button")[i].hidden != "true") {
            document.getElementsByTagName("button")[i].hidden = "true";
            document.getElementsByTagName("button")[i].click();
        }
    }
}

function move1() {
    document.getElementsByTagName("button")[1].hidden = "true";
    var distX = (1+Math.floor(Math.random()*50))/200;
    console.log("distX = "+distX);
    var distY = (1+Math.floor(Math.random()*50))/200;
    console.log("distY = "+distY);

    var t;
    var u;
    var v;
    var w;

    var ball = document.getElementById('ball1');

    if(Math.floor(Math.random()*2)==1){t=setInterval(moveRight, speed);}
    else {u = setInterval(moveLeft, speed);}
    if(Math.floor(Math.random()*2)==1){v=setInterval(moveDown, speed);}
    else {w = setInterval(moveUp, speed);}
  
    function moveRight() {
        if(coordinates[0][0] >=(boxSize1[0]-ballSize)) {
            clearInterval(t);
            u = setInterval(moveLeft, speed)
            var numseg = Math.floor(coordinates[0][1]/((boxSize1[1]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posY = " + coordinates[0][1]);
            document.getElementsByTagName("audio")[0].volume = volume;
            document.getElementsByTagName("audio")[0].src = ""+ notes[1][numseg] +".mp3";
        }
        else {
            coordinates[0][0] += distX;
            ball.style.left = coordinates[0][0]+'px';
        }
    }
    function moveLeft() {
        if(coordinates[0][0] <=0) {
            clearInterval(u);
            t = setInterval(moveRight, speed)
            var numseg = Math.floor(coordinates[0][1]/((boxSize1[1]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posY = " + coordinates[0][1]);
            document.getElementsByTagName("audio")[1].volume = volume;
            document.getElementsByTagName("audio")[1].src = ""+ notes[3][numberOfSegments-1-numseg] +".mp3";
        }
        else {
            coordinates[0][0] -= distX;
            ball.style.left = coordinates[0][0]+'px';
        }
    }
    function moveDown() {
        if(coordinates[0][1] >=(boxSize1[1]-ballSize)) {
            clearInterval(v);
            w = setInterval(moveUp, speed)
            var numseg = Math.floor(coordinates[0][0]/((boxSize1[0]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posX = " + coordinates[0][0]);
            document.getElementsByTagName("audio")[2].volume = volume;
            document.getElementsByTagName("audio")[2].src = ""+ notes[2][numberOfSegments-1-numseg] +".mp3";
        }
        else {
            coordinates[0][1] += distY;
            ball.style.top = coordinates[0][1]+'px';
        }
    }
    function moveUp() {
        if(coordinates[0][1] <=0) {
            clearInterval(w);
            v = setInterval(moveDown, speed)
            var numseg = Math.floor(coordinates[0][0]/((boxSize1[0]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posX = " + coordinates[0][0]);
            document.getElementsByTagName("audio")[3].volume = volume;
            document.getElementsByTagName("audio")[3].src = ""+ notes[0][numseg] +".mp3";
        }
        else {
            coordinates[0][1] -= distY;
            ball.style.top = coordinates[0][1]+'px';
        }
    }

}

function move2() {
    document.getElementsByTagName("button")[2].hidden = "true";
    var distX = (1+Math.floor(Math.random()*50))/200;
    console.log("distX = "+distX);
    var distY = (1+Math.floor(Math.random()*50))/200;
    console.log("distY = "+distY);

    var t;
    var u;
    var v;
    var w;

    var ball = document.getElementById('ball2');

    if(Math.floor(Math.random()*2)==1){t=setInterval(moveRight, speed);}
    else {u = setInterval(moveLeft, speed);}
    if(Math.floor(Math.random()*2)==1){v=setInterval(moveDown, speed);}
    else {w = setInterval(moveUp, speed);}
  
    function moveRight() {
        if(coordinates[1][0] >=(boxSize2[0]-ballSize)) {
            clearInterval(t);
            u = setInterval(moveLeft, speed)
            var numseg = Math.floor(coordinates[1][1]/((boxSize2[1]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posY = " + coordinates[1][1]);
            document.getElementsByTagName("audio")[4].volume = volume;
            document.getElementsByTagName("audio")[4].src = ""+ notes[1][numseg] +".mp3";
        }
        else {
            coordinates[1][0] += distX;
            ball.style.left = coordinates[1][0]+'px';
        }
    }
    function moveLeft() {
        if(coordinates[1][0] <=0) {
            clearInterval(u);
            t = setInterval(moveRight, speed)
            var numseg = Math.floor(coordinates[1][1]/((boxSize2[1]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posY = " + coordinates[1][1]);
            document.getElementsByTagName("audio")[5].volume = volume;
            document.getElementsByTagName("audio")[5].src = ""+ notes[3][numberOfSegments-1-numseg] +".mp3";
        }
        else {
            coordinates[1][0] -= distX;
            ball.style.left = coordinates[1][0]+'px';
        }
    }
    function moveDown() {
        if(coordinates[1][1] >=(boxSize2[1]-ballSize)) {
            clearInterval(v);
            w = setInterval(moveUp, speed)
            var numseg = Math.floor(coordinates[1][0]/((boxSize2[0]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posX = " + coordinates[1][0]);
            document.getElementsByTagName("audio")[6].volume = volume;
            document.getElementsByTagName("audio")[6].src = ""+ notes[2][numberOfSegments-1-numseg] +".mp3";
        }
        else {
            coordinates[1][1] += distY;
            ball.style.top = coordinates[1][1]+'px';
        }
    }
    function moveUp() {
        if(coordinates[1][1] <=0) {
            clearInterval(w);
            v = setInterval(moveDown, speed)
            var numseg = Math.floor(coordinates[1][0]/((boxSize2[0]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posX = " + coordinates[1][0]);
            document.getElementsByTagName("audio")[7].volume = volume;
            document.getElementsByTagName("audio")[7].src = ""+ notes[0][numseg] +".mp3";
        }
        else {
            coordinates[1][1] -= distY;
            ball.style.top = coordinates[1][1]+'px';
        }
    }

}

function move3() {
    document.getElementsByTagName("button")[3].hidden = "true";
    var distX = (1+Math.floor(Math.random()*50))/200;
    console.log("distX = "+distX);
    var distY = (1+Math.floor(Math.random()*50))/200;
    console.log("distY = "+distY);

    var t;
    var u;
    var v;
    var w;

    var ball = document.getElementById('ball3');

    if(Math.floor(Math.random()*2)==1){t=setInterval(moveRight, speed);}
    else {u = setInterval(moveLeft, speed);}
    if(Math.floor(Math.random()*2)==1){v=setInterval(moveDown, speed);}
    else {w = setInterval(moveUp, speed);}
  
    function moveRight() {
        if(coordinates[2][0] >=(boxSize3[0]-ballSize)) {
            clearInterval(t);
            u = setInterval(moveLeft, speed)
            var numseg = Math.floor(coordinates[2][1]/((boxSize3[1]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posY = " + coordinates[2][1]);
            document.getElementsByTagName("audio")[8].volume = volume;
            document.getElementsByTagName("audio")[8].src = ""+ notes[1][numseg] +".mp3";
        }
        else {
            coordinates[2][0] += distX;
            ball.style.left = coordinates[2][0]+'px';
        }
    }
    function moveLeft() {
        if(coordinates[2][0] <=0) {
            clearInterval(u);
            t = setInterval(moveRight, speed)
            var numseg = Math.floor(coordinates[2][1]/((boxSize3[1]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posY = " + coordinates[2][1]);
            document.getElementsByTagName("audio")[9].volume = volume;
            document.getElementsByTagName("audio")[9].src = ""+ notes[3][numberOfSegments-1-numseg] +".mp3";
        }
        else {
            coordinates[2][0] -= distX;
            ball.style.left = coordinates[2][0]+'px';
        }
    }
    function moveDown() {
        if(coordinates[2][1] >=(boxSize3[1]-ballSize)) {
            clearInterval(v);
            w = setInterval(moveUp, speed)
            var numseg = Math.floor(coordinates[2][0]/((boxSize3[0]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posX = " + coordinates[2][0]);
            document.getElementsByTagName("audio")[10].volume = volume;
            document.getElementsByTagName("audio")[10].src = ""+ notes[2][numberOfSegments-1-numseg] +".mp3";
        }
        else {
            coordinates[2][1] += distY;
            ball.style.top = coordinates[2][1]+'px';
        }
    }
    function moveUp() {
        if(coordinates[2][1] <=0) {
            clearInterval(w);
            v = setInterval(moveDown, speed)
            var numseg = Math.floor(coordinates[2][0]/((boxSize3[0]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posX = " + coordinates[2][0]);
            document.getElementsByTagName("audio")[11].volume = volume;
            document.getElementsByTagName("audio")[11].src = ""+ notes[0][numseg] +".mp3";
        }
        else {
            coordinates[2][1] -= distY;
            ball.style.top = coordinates[2][1]+'px';
        }
    }

}

function move4() {
    document.getElementsByTagName("button")[4].hidden = "true";
    var distX = (1+Math.floor(Math.random()*50))/200;
    console.log("distX = "+distX);
    var distY = (1+Math.floor(Math.random()*50))/200;
    console.log("distY = "+distY);

    var t;
    var u;
    var v;
    var w;

    var ball = document.getElementById('ball4');

    if(Math.floor(Math.random()*2)==1){t=setInterval(moveRight, speed);}
    else {u = setInterval(moveLeft, speed);}
    if(Math.floor(Math.random()*2)==1){v=setInterval(moveDown, speed);}
    else {w = setInterval(moveUp, speed);}
  
    function moveRight() {
        if(coordinates[3][0] >=(boxSize4[0]-ballSize)) {
            clearInterval(t);
            u = setInterval(moveLeft, speed)
            var numseg = Math.floor(coordinates[3][1]/((boxSize4[1]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posY = " + coordinates[3][1]);
            document.getElementsByTagName("audio")[12].volume = volume;
            document.getElementsByTagName("audio")[12].src = ""+ notes[1][numseg] +".mp3";
        }
        else {
            coordinates[3][0] += distX;
            ball.style.left = coordinates[3][0]+'px';
        }
    }
    function moveLeft() {
        if(coordinates[3][0] <=0) {
            clearInterval(u);
            t = setInterval(moveRight, speed)
            var numseg = Math.floor(coordinates[3][1]/((boxSize4[1]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posY = " + coordinates[3][1]);
            document.getElementsByTagName("audio")[13].volume = volume;
            document.getElementsByTagName("audio")[13].src = ""+ notes[3][numberOfSegments-1-numseg] +".mp3";
        }
        else {
            coordinates[3][0] -= distX;
            ball.style.left = coordinates[3][0]+'px';
        }
    }
    function moveDown() {
        if(coordinates[3][1] >=(boxSize4[1]-ballSize)) {
            clearInterval(v);
            w = setInterval(moveUp, speed)
            var numseg = Math.floor(coordinates[3][0]/((boxSize4[0]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posX = " + coordinates[3][0]);
            document.getElementsByTagName("audio")[14].volume = volume;
            document.getElementsByTagName("audio")[14].src = ""+ notes[2][numberOfSegments-1-numseg] +".mp3";
        }
        else {
            coordinates[3][1] += distY;
            ball.style.top = coordinates[3][1]+'px';
        }
    }
    function moveUp() {
        if(coordinates[3][1] <=0) {
            clearInterval(w);
            v = setInterval(moveDown, speed)
            var numseg = Math.floor(coordinates[3][0]/((boxSize4[0]-ballSize)/numberOfSegments));
            while(numseg<0){numseg++;}
            while(numseg>numberOfSegments-1){numseg--;}
            console.log("posX = " + coordinates[3][0]);
            document.getElementsByTagName("audio")[15].volume = volume;
            document.getElementsByTagName("audio")[15].src = ""+ notes[0][numseg] +".mp3";
        }
        else {
            coordinates[3][1] -= distY;
            ball.style.top = coordinates[3][1]+'px';
        }
    }

}

        </script>
    </head>
    <body>
        <h1 class="name">Musical Boxes</h1>
        <button class="button1" onclick="moveAll()" autofocus>START!</button><br>
        <button class="button1" onclick="move1()" hidden>START 1</button><br>
        <button class="button1" onclick="move2()" hidden>START 2</button><br>
        <button class="button1" onclick="move3()" hidden>START 3</button><br>
        <button class="button1" onclick="move4()" hidden>START 4</button><br>
        <div class="box" id="box1">
            <div class="ball" id="ball1"></div>
        </div>
        <div class="box" id="box2">
            <div class="ball" id="ball2"></div>
        </div>
        <div class="box" id="box3">
            <div class="ball" id="ball3"></div>
        </div>
        <div class="box" id="box4">
            <div class="ball" id="ball4"></div>
        </div>
        <div hidden>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
            <audio autoplay></audio>
        </div>
    </body>
</html>